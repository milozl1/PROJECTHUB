[
  {
    "schema_snapshot": {
      "views": null,
      "schema": "public",
      "tables": [
        "audit_log",
        "comments",
        "notifications",
        "project_members",
        "project_tags",
        "projects",
        "subtasks",
        "tags",
        "task_dependencies",
        "task_tags",
        "tasks",
        "time_entries",
        "users"
      ],
      "columns": [
        {
          "data_type": "bigint",
          "table_name": "audit_log",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "nextval('audit_log_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "data_type": "text",
          "table_name": "audit_log",
          "column_name": "action",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "audit_log",
          "column_name": "entity_type",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "uuid",
          "table_name": "audit_log",
          "column_name": "entity_id",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "data_type": "uuid",
          "table_name": "audit_log",
          "column_name": "user_id",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "data_type": "jsonb",
          "table_name": "audit_log",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 6
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "audit_log",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 7
        },
        {
          "data_type": "uuid",
          "table_name": "comments",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "comments",
          "column_name": "task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "comments",
          "column_name": "user_id",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "text",
          "table_name": "comments",
          "column_name": "text",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "comments",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 5
        },
        {
          "data_type": "uuid",
          "table_name": "notifications",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "notifications",
          "column_name": "user_id",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "notifications",
          "column_name": "message",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "boolean",
          "table_name": "notifications",
          "column_name": "read",
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 4
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "notifications",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 5
        },
        {
          "data_type": "uuid",
          "table_name": "project_members",
          "column_name": "project_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "project_members",
          "column_name": "user_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "project_members",
          "column_name": "role",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "uuid",
          "table_name": "project_tags",
          "column_name": "project_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "data_type": "integer",
          "table_name": "project_tags",
          "column_name": "tag_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "projects",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "text",
          "table_name": "projects",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "projects",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "text",
          "table_name": "projects",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": "'Not Started'::text",
          "ordinal_position": 4
        },
        {
          "data_type": "text",
          "table_name": "projects",
          "column_name": "priority",
          "is_nullable": "NO",
          "column_default": "'Medium'::text",
          "ordinal_position": 5
        },
        {
          "data_type": "integer",
          "table_name": "projects",
          "column_name": "progress",
          "is_nullable": "NO",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "data_type": "date",
          "table_name": "projects",
          "column_name": "start_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "data_type": "date",
          "table_name": "projects",
          "column_name": "due_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "data_type": "text",
          "table_name": "projects",
          "column_name": "color",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "projects",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 10
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "projects",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 11
        },
        {
          "data_type": "tsvector",
          "table_name": "projects",
          "column_name": "search_vector",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "data_type": "uuid",
          "table_name": "subtasks",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "subtasks",
          "column_name": "task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "subtasks",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "boolean",
          "table_name": "subtasks",
          "column_name": "completed",
          "is_nullable": "NO",
          "column_default": "false",
          "ordinal_position": 4
        },
        {
          "data_type": "date",
          "table_name": "subtasks",
          "column_name": "start_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "data_type": "date",
          "table_name": "subtasks",
          "column_name": "due_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "subtasks",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 7
        },
        {
          "data_type": "integer",
          "table_name": "tags",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "nextval('tags_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "data_type": "text",
          "table_name": "tags",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "task_dependencies",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "task_dependencies",
          "column_name": "predecessor_task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "task_dependencies",
          "column_name": "successor_task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "text",
          "table_name": "task_dependencies",
          "column_name": "dep_type",
          "is_nullable": "YES",
          "column_default": "'FS'::text",
          "ordinal_position": 4
        },
        {
          "data_type": "uuid",
          "table_name": "task_tags",
          "column_name": "task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "data_type": "integer",
          "table_name": "task_tags",
          "column_name": "tag_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "tasks",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "tasks",
          "column_name": "project_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "tasks",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "text",
          "table_name": "tasks",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "data_type": "text",
          "table_name": "tasks",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": "'Not Started'::text",
          "ordinal_position": 5
        },
        {
          "data_type": "text",
          "table_name": "tasks",
          "column_name": "priority",
          "is_nullable": "NO",
          "column_default": "'Medium'::text",
          "ordinal_position": 6
        },
        {
          "data_type": "date",
          "table_name": "tasks",
          "column_name": "start_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "data_type": "date",
          "table_name": "tasks",
          "column_name": "due_date",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "data_type": "uuid",
          "table_name": "tasks",
          "column_name": "assigned_to",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "data_type": "numeric",
          "table_name": "tasks",
          "column_name": "estimated_hours",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "data_type": "numeric",
          "table_name": "tasks",
          "column_name": "actual_hours",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "data_type": "integer",
          "table_name": "tasks",
          "column_name": "progress",
          "is_nullable": "NO",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "data_type": "text",
          "table_name": "tasks",
          "column_name": "color",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "data_type": "boolean",
          "table_name": "tasks",
          "column_name": "gantt_visible",
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 14
        },
        {
          "data_type": "boolean",
          "table_name": "tasks",
          "column_name": "milestone",
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 15
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "tasks",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 16
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "tasks",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 17
        },
        {
          "data_type": "tsvector",
          "table_name": "tasks",
          "column_name": "search_vector",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "data_type": "integer",
          "table_name": "tasks",
          "column_name": "sort_index",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "data_type": "uuid",
          "table_name": "time_entries",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "uuid",
          "table_name": "time_entries",
          "column_name": "task_id",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "uuid",
          "table_name": "time_entries",
          "column_name": "user_id",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "date",
          "table_name": "time_entries",
          "column_name": "date",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "data_type": "numeric",
          "table_name": "time_entries",
          "column_name": "hours",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "data_type": "text",
          "table_name": "time_entries",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "time_entries",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 7
        },
        {
          "data_type": "uuid",
          "table_name": "users",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        },
        {
          "data_type": "text",
          "table_name": "users",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "data_type": "text",
          "table_name": "users",
          "column_name": "email",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "data_type": "text",
          "table_name": "users",
          "column_name": "role",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "data_type": "text",
          "table_name": "users",
          "column_name": "avatar",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "data_type": "ARRAY",
          "table_name": "users",
          "column_name": "skills",
          "is_nullable": "YES",
          "column_default": "'{}'::text[]",
          "ordinal_position": 6
        },
        {
          "data_type": "integer",
          "table_name": "users",
          "column_name": "hours_per_week",
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "data_type": "text",
          "table_name": "users",
          "column_name": "locale",
          "is_nullable": "YES",
          "column_default": "'ro'::text",
          "ordinal_position": 8
        },
        {
          "data_type": "timestamp with time zone",
          "table_name": "users",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 9
        }
      ],
      "indexes": [
        {
          "method": "btree",
          "indexdef": "CREATE INDEX audit_log_entity_type_entity_id_idx ON public.audit_log USING btree (entity_type, entity_id)",
          "index_name": "audit_log_entity_type_entity_id_idx",
          "table_name": "audit_log"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX audit_log_pkey ON public.audit_log USING btree (id)",
          "index_name": "audit_log_pkey",
          "table_name": "audit_log"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX audit_log_user_id_created_at_idx ON public.audit_log USING btree (user_id, created_at DESC)",
          "index_name": "audit_log_user_id_created_at_idx",
          "table_name": "audit_log"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX comments_pkey ON public.comments USING btree (id)",
          "index_name": "comments_pkey",
          "table_name": "comments"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX comments_task_id_idx ON public.comments USING btree (task_id)",
          "index_name": "comments_task_id_idx",
          "table_name": "comments"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (id)",
          "index_name": "notifications_pkey",
          "table_name": "notifications"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX notifications_user_id_read_idx ON public.notifications USING btree (user_id, read)",
          "index_name": "notifications_user_id_read_idx",
          "table_name": "notifications"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX project_members_pkey ON public.project_members USING btree (project_id, user_id)",
          "index_name": "project_members_pkey",
          "table_name": "project_members"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX project_tags_pkey ON public.project_tags USING btree (project_id, tag_id)",
          "index_name": "project_tags_pkey",
          "table_name": "project_tags"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX projects_due_date_idx ON public.projects USING btree (due_date)",
          "index_name": "projects_due_date_idx",
          "table_name": "projects"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX projects_pkey ON public.projects USING btree (id)",
          "index_name": "projects_pkey",
          "table_name": "projects"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX projects_priority_idx ON public.projects USING btree (priority)",
          "index_name": "projects_priority_idx",
          "table_name": "projects"
        },
        {
          "method": "gin",
          "indexdef": "CREATE INDEX projects_search_vector_idx ON public.projects USING gin (search_vector)",
          "index_name": "projects_search_vector_idx",
          "table_name": "projects"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX projects_status_idx ON public.projects USING btree (status)",
          "index_name": "projects_status_idx",
          "table_name": "projects"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX idx_subtasks_task_id ON public.subtasks USING btree (task_id)",
          "index_name": "idx_subtasks_task_id",
          "table_name": "subtasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX subtasks_completed_idx ON public.subtasks USING btree (completed)",
          "index_name": "subtasks_completed_idx",
          "table_name": "subtasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX subtasks_pkey ON public.subtasks USING btree (id)",
          "index_name": "subtasks_pkey",
          "table_name": "subtasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX subtasks_task_id_idx ON public.subtasks USING btree (task_id)",
          "index_name": "subtasks_task_id_idx",
          "table_name": "subtasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX tags_name_key ON public.tags USING btree (name)",
          "index_name": "tags_name_key",
          "table_name": "tags"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX tags_pkey ON public.tags USING btree (id)",
          "index_name": "tags_pkey",
          "table_name": "tags"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX idx_deps_predecessor ON public.task_dependencies USING btree (predecessor_task_id)",
          "index_name": "idx_deps_predecessor",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX idx_deps_successor ON public.task_dependencies USING btree (successor_task_id)",
          "index_name": "idx_deps_successor",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX task_dependencies_pkey ON public.task_dependencies USING btree (id)",
          "index_name": "task_dependencies_pkey",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX task_dependencies_predecessor_task_id_idx ON public.task_dependencies USING btree (predecessor_task_id)",
          "index_name": "task_dependencies_predecessor_task_id_idx",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX task_dependencies_predecessor_task_id_successor_task_id_key ON public.task_dependencies USING btree (predecessor_task_id, successor_task_id)",
          "index_name": "task_dependencies_predecessor_task_id_successor_task_id_key",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX task_dependencies_successor_task_id_idx ON public.task_dependencies USING btree (successor_task_id)",
          "index_name": "task_dependencies_successor_task_id_idx",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX uq_deps_pair ON public.task_dependencies USING btree (predecessor_task_id, successor_task_id)",
          "index_name": "uq_deps_pair",
          "table_name": "task_dependencies"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX task_tags_pkey ON public.task_tags USING btree (task_id, tag_id)",
          "index_name": "task_tags_pkey",
          "table_name": "task_tags"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX tasks_assigned_to_idx ON public.tasks USING btree (assigned_to)",
          "index_name": "tasks_assigned_to_idx",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX tasks_due_date_idx ON public.tasks USING btree (due_date)",
          "index_name": "tasks_due_date_idx",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX tasks_pkey ON public.tasks USING btree (id)",
          "index_name": "tasks_pkey",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX tasks_project_id_idx ON public.tasks USING btree (project_id)",
          "index_name": "tasks_project_id_idx",
          "table_name": "tasks"
        },
        {
          "method": "gin",
          "indexdef": "CREATE INDEX tasks_search_idx ON public.tasks USING gin (search_vector)",
          "index_name": "tasks_search_idx",
          "table_name": "tasks"
        },
        {
          "method": "gin",
          "indexdef": "CREATE INDEX tasks_search_vector_idx ON public.tasks USING gin (search_vector)",
          "index_name": "tasks_search_vector_idx",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX tasks_sort_index_idx ON public.tasks USING btree (sort_index)",
          "index_name": "tasks_sort_index_idx",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX tasks_status_idx ON public.tasks USING btree (status)",
          "index_name": "tasks_status_idx",
          "table_name": "tasks"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX time_entries_pkey ON public.time_entries USING btree (id)",
          "index_name": "time_entries_pkey",
          "table_name": "time_entries"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX time_entries_task_id_date_idx ON public.time_entries USING btree (task_id, date)",
          "index_name": "time_entries_task_id_date_idx",
          "table_name": "time_entries"
        },
        {
          "method": "btree",
          "indexdef": "CREATE INDEX time_entries_user_id_date_idx ON public.time_entries USING btree (user_id, date)",
          "index_name": "time_entries_user_id_date_idx",
          "table_name": "time_entries"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)",
          "index_name": "users_email_key",
          "table_name": "users"
        },
        {
          "method": "btree",
          "indexdef": "CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)",
          "index_name": "users_pkey",
          "table_name": "users"
        }
      ],
      "database": "postgres",
      "triggers": [
        {
          "definition": "CREATE TRIGGER trg_projects_search_vector BEFORE INSERT OR UPDATE ON projects FOR EACH ROW EXECUTE FUNCTION projects_search_vector_trigger()",
          "table_name": "projects",
          "trigger_name": "trg_projects_search_vector"
        },
        {
          "definition": "CREATE TRIGGER trg_projects_updated BEFORE UPDATE ON projects FOR EACH ROW EXECUTE FUNCTION touch_updated_at()",
          "table_name": "projects",
          "trigger_name": "trg_projects_updated"
        },
        {
          "definition": "CREATE TRIGGER trg_task_progress_update AFTER INSERT OR UPDATE OF progress, status ON tasks FOR EACH ROW EXECUTE FUNCTION after_task_progress()",
          "table_name": "tasks",
          "trigger_name": "trg_task_progress_update"
        },
        {
          "definition": "CREATE TRIGGER trg_tasks_search BEFORE INSERT OR UPDATE ON tasks FOR EACH ROW EXECUTE FUNCTION tasks_search_vector_trigger()",
          "table_name": "tasks",
          "trigger_name": "trg_tasks_search"
        },
        {
          "definition": "CREATE TRIGGER trg_tasks_search_vector BEFORE INSERT OR UPDATE ON tasks FOR EACH ROW EXECUTE FUNCTION tasks_search_vector_trigger()",
          "table_name": "tasks",
          "trigger_name": "trg_tasks_search_vector"
        },
        {
          "definition": "CREATE TRIGGER trg_tasks_updated BEFORE UPDATE ON tasks FOR EACH ROW EXECUTE FUNCTION touch_updated_at()",
          "table_name": "tasks",
          "trigger_name": "trg_tasks_updated"
        }
      ],
      "functions": [
        {
          "definition": "CREATE OR REPLACE FUNCTION public.after_task_progress()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nbegin\r\n  perform public.recalc_project_progress(new.project_id);\r\n  return new;\r\nend; $function$\n",
          "function_name": "after_task_progress"
        },
        {
          "definition": "CREATE OR REPLACE FUNCTION public.log_action(p_action text, p_entity_type text, p_entity_id uuid, p_user uuid, p_meta jsonb)\n RETURNS void\n LANGUAGE sql\nAS $function$\r\n  insert into public.audit_log(action, entity_type, entity_id, user_id, metadata)\r\n  values (p_action, p_entity_type, p_entity_id, p_user, coalesce(p_meta,'{}'::jsonb));\r\n$function$\n",
          "function_name": "log_action"
        },
        {
          "definition": "CREATE OR REPLACE FUNCTION public.projects_search_vector_trigger()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  NEW.search_vector :=\r\n    to_tsvector('simple', coalesce(NEW.name,'') || ' ' || coalesce(NEW.description,''));\r\n  RETURN NEW;\r\nEND $function$\n",
          "function_name": "projects_search_vector_trigger"
        },
        {
          "definition": "CREATE OR REPLACE FUNCTION public.recalc_project_progress(p_project uuid)\n RETURNS void\n LANGUAGE sql\nAS $function$\r\n  update public.projects p\r\n    set progress = coalesce((\r\n      select round(avg(t.progress))::int\r\n      from public.tasks t\r\n      where t.project_id = p.id\r\n    ),0)\r\n  where p.id = p_project;\r\n$function$\n",
          "function_name": "recalc_project_progress"
        },
        {
          "definition": "CREATE OR REPLACE FUNCTION public.tasks_search_vector_trigger()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  NEW.search_vector :=\r\n    to_tsvector('simple', coalesce(NEW.title,'') || ' ' || coalesce(NEW.description,''));\r\n  RETURN NEW;\r\nEND $function$\n",
          "function_name": "tasks_search_vector_trigger"
        },
        {
          "definition": "CREATE OR REPLACE FUNCTION public.touch_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nbegin\r\n  new.updated_at = now();\r\n  return new;\r\nend; $function$\n",
          "function_name": "touch_updated_at"
        }
      ],
      "extensions": [
        {
          "extname": "plpgsql",
          "extversion": "1.0"
        },
        {
          "extname": "pg_stat_statements",
          "extversion": "1.11"
        },
        {
          "extname": "uuid-ossp",
          "extversion": "1.1"
        },
        {
          "extname": "pgcrypto",
          "extversion": "1.3"
        },
        {
          "extname": "supabase_vault",
          "extversion": "0.3.1"
        },
        {
          "extname": "pg_graphql",
          "extversion": "1.5.11"
        }
      ],
      "rls_tables": [
        {
          "table_name": "audit_log",
          "rls_enabled": true
        },
        {
          "table_name": "comments",
          "rls_enabled": true
        },
        {
          "table_name": "notifications",
          "rls_enabled": true
        },
        {
          "table_name": "project_members",
          "rls_enabled": true
        },
        {
          "table_name": "project_tags",
          "rls_enabled": true
        },
        {
          "table_name": "projects",
          "rls_enabled": true
        },
        {
          "table_name": "subtasks",
          "rls_enabled": true
        },
        {
          "table_name": "tags",
          "rls_enabled": true
        },
        {
          "table_name": "task_dependencies",
          "rls_enabled": true
        },
        {
          "table_name": "task_tags",
          "rls_enabled": true
        },
        {
          "table_name": "tasks",
          "rls_enabled": true
        },
        {
          "table_name": "time_entries",
          "rls_enabled": true
        },
        {
          "table_name": "users",
          "rls_enabled": true
        }
      ],
      "foreign_keys": [
        {
          "columns": [
            "user_id"
          ],
          "table_name": "audit_log",
          "delete_rule": "SET NULL",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "audit_log_user_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "task_id"
          ],
          "table_name": "comments",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "comments_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "user_id"
          ],
          "table_name": "comments",
          "delete_rule": "SET NULL",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "comments_user_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "user_id"
          ],
          "table_name": "notifications",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "notifications_user_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "project_id"
          ],
          "table_name": "project_members",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "projects",
          "constraint_name": "project_members_project_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "user_id"
          ],
          "table_name": "project_members",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "project_members_user_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "project_id"
          ],
          "table_name": "project_tags",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "projects",
          "constraint_name": "project_tags_project_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "tag_id"
          ],
          "table_name": "project_tags",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tags",
          "constraint_name": "project_tags_tag_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "task_id"
          ],
          "table_name": "subtasks",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "subtasks_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "predecessor_task_id"
          ],
          "table_name": "task_dependencies",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "task_dependencies_predecessor_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "successor_task_id"
          ],
          "table_name": "task_dependencies",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "task_dependencies_successor_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "tag_id"
          ],
          "table_name": "task_tags",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tags",
          "constraint_name": "task_tags_tag_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "task_id"
          ],
          "table_name": "task_tags",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "task_tags_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "assigned_to"
          ],
          "table_name": "tasks",
          "delete_rule": "SET NULL",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "tasks_assigned_to_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "project_id"
          ],
          "table_name": "tasks",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "projects",
          "constraint_name": "tasks_project_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "task_id"
          ],
          "table_name": "time_entries",
          "delete_rule": "CASCADE",
          "update_rule": "NO ACTION",
          "foreign_table": "tasks",
          "constraint_name": "time_entries_task_id_fkey",
          "foreign_columns": [
            "id"
          ]
        },
        {
          "columns": [
            "user_id"
          ],
          "table_name": "time_entries",
          "delete_rule": "SET NULL",
          "update_rule": "NO ACTION",
          "foreign_table": "users",
          "constraint_name": "time_entries_user_id_fkey",
          "foreign_columns": [
            "id"
          ]
        }
      ],
      "generated_at": "2025-10-04T08:20:13.536208+00:00",
      "rls_policies": [
        {
          "cmd": "INSERT",
          "qual": null,
          "roles": [
            "public"
          ],
          "tablename": "audit_log",
          "permissive": "PERMISSIVE",
          "policyname": "audit_log_insert_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "audit_log",
          "permissive": "PERMISSIVE",
          "policyname": "audit_log_select_all",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "ALL",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "project_members",
          "permissive": "PERMISSIVE",
          "policyname": "project_members_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "DELETE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "projects",
          "permissive": "PERMISSIVE",
          "policyname": "projects_delete_all",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "INSERT",
          "qual": null,
          "roles": [
            "public"
          ],
          "tablename": "projects",
          "permissive": "PERMISSIVE",
          "policyname": "projects_insert_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "projects",
          "permissive": "PERMISSIVE",
          "policyname": "projects_select_all",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "UPDATE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "projects",
          "permissive": "PERMISSIVE",
          "policyname": "projects_update_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "DELETE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "subtasks",
          "permissive": "PERMISSIVE",
          "policyname": "subtasks delete",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "INSERT",
          "qual": null,
          "roles": [
            "public"
          ],
          "tablename": "subtasks",
          "permissive": "PERMISSIVE",
          "policyname": "subtasks insert",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "subtasks",
          "permissive": "PERMISSIVE",
          "policyname": "subtasks select",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "UPDATE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "subtasks",
          "permissive": "PERMISSIVE",
          "policyname": "subtasks update",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "ALL",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "tags",
          "permissive": "PERMISSIVE",
          "policyname": "tags_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "DELETE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "task_dependencies",
          "permissive": "PERMISSIVE",
          "policyname": "deps delete",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "INSERT",
          "qual": null,
          "roles": [
            "public"
          ],
          "tablename": "task_dependencies",
          "permissive": "PERMISSIVE",
          "policyname": "deps insert",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "task_dependencies",
          "permissive": "PERMISSIVE",
          "policyname": "deps select",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "UPDATE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "task_dependencies",
          "permissive": "PERMISSIVE",
          "policyname": "deps update",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "DELETE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "tasks",
          "permissive": "PERMISSIVE",
          "policyname": "tasks_delete_all",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "INSERT",
          "qual": null,
          "roles": [
            "public"
          ],
          "tablename": "tasks",
          "permissive": "PERMISSIVE",
          "policyname": "tasks_insert_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "tasks",
          "permissive": "PERMISSIVE",
          "policyname": "tasks_select",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "SELECT",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "tasks",
          "permissive": "PERMISSIVE",
          "policyname": "tasks_select_all",
          "schemaname": "public",
          "with_check": null
        },
        {
          "cmd": "UPDATE",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "tasks",
          "permissive": "PERMISSIVE",
          "policyname": "tasks_update_all",
          "schemaname": "public",
          "with_check": "true"
        },
        {
          "cmd": "ALL",
          "qual": "true",
          "roles": [
            "public"
          ],
          "tablename": "users",
          "permissive": "PERMISSIVE",
          "policyname": "users_all",
          "schemaname": "public",
          "with_check": "true"
        }
      ],
      "rls_policy_ddl": [
        "create policy audit_log_insert_all on public.audit_log for INSERT to public using (true) with check (true);",
        "create policy audit_log_select_all on public.audit_log for SELECT to public using (true);",
        "create policy project_members_all on public.project_members for ALL to public using (true) with check (true);",
        "create policy projects_delete_all on public.projects for DELETE to public using (true);",
        "create policy projects_insert_all on public.projects for INSERT to public using (true) with check (true);",
        "create policy projects_select_all on public.projects for SELECT to public using (true);",
        "create policy projects_update_all on public.projects for UPDATE to public using (true) with check (true);",
        "create policy \"subtasks delete\" on public.subtasks for DELETE to public using (true);",
        "create policy \"subtasks insert\" on public.subtasks for INSERT to public using (true) with check (true);",
        "create policy \"subtasks select\" on public.subtasks for SELECT to public using (true);",
        "create policy \"subtasks update\" on public.subtasks for UPDATE to public using (true);",
        "create policy tags_all on public.tags for ALL to public using (true) with check (true);",
        "create policy \"deps delete\" on public.task_dependencies for DELETE to public using (true);",
        "create policy \"deps insert\" on public.task_dependencies for INSERT to public using (true) with check (true);",
        "create policy \"deps select\" on public.task_dependencies for SELECT to public using (true);",
        "create policy \"deps update\" on public.task_dependencies for UPDATE to public using (true);",
        "create policy tasks_delete_all on public.tasks for DELETE to public using (true);",
        "create policy tasks_insert_all on public.tasks for INSERT to public using (true) with check (true);",
        "create policy tasks_select on public.tasks for SELECT to public using (true);",
        "create policy tasks_select_all on public.tasks for SELECT to public using (true);",
        "create policy tasks_update_all on public.tasks for UPDATE to public using (true) with check (true);",
        "create policy users_all on public.users for ALL to public using (true) with check (true);"
      ],
      "constraints_pk_unique": [
        {
          "columns": [
            "id"
          ],
          "table_name": "audit_log",
          "constraint_name": "audit_log_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "comments",
          "constraint_name": "comments_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "notifications",
          "constraint_name": "notifications_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "project_id",
            "user_id"
          ],
          "table_name": "project_members",
          "constraint_name": "project_members_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "project_id",
            "tag_id"
          ],
          "table_name": "project_tags",
          "constraint_name": "project_tags_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "projects",
          "constraint_name": "projects_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "subtasks",
          "constraint_name": "subtasks_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "tags",
          "constraint_name": "tags_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "name"
          ],
          "table_name": "tags",
          "constraint_name": "tags_name_key",
          "constraint_type": "UNIQUE"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "task_dependencies",
          "constraint_name": "task_dependencies_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "predecessor_task_id",
            "successor_task_id"
          ],
          "table_name": "task_dependencies",
          "constraint_name": "task_dependencies_predecessor_task_id_successor_task_id_key",
          "constraint_type": "UNIQUE"
        },
        {
          "columns": [
            "predecessor_task_id",
            "successor_task_id"
          ],
          "table_name": "task_dependencies",
          "constraint_name": "uq_deps_pair",
          "constraint_type": "UNIQUE"
        },
        {
          "columns": [
            "task_id",
            "tag_id"
          ],
          "table_name": "task_tags",
          "constraint_name": "task_tags_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "tasks",
          "constraint_name": "tasks_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "time_entries",
          "constraint_name": "time_entries_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "id"
          ],
          "table_name": "users",
          "constraint_name": "users_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "columns": [
            "email"
          ],
          "table_name": "users",
          "constraint_name": "users_email_key",
          "constraint_type": "UNIQUE"
        }
      ]
    }
  }
]